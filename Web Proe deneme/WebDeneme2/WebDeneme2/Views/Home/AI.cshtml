 <form asp-action="AI">
    <input type="file" name="photo" id="photo" />
    <button type="submit">Fotoğraf Yükle</button>
</form>

@if (@ViewBag.AIResult != null)
{
    <h3>İşlenmiş Görsel:</h3>
    <img src="@ViewBag.AIResult" alt="İşlenmiş Görsel" />
}


@*
<script>
    document.getElementById("uploadForm").addEventListener("submit", async function (event) {
        event.preventDefault(); // Formun doğal submit işlemini engelliyoruz

        const formData = new FormData();
        const photoFile = document.getElementById("photo").files[0]; // Kullanıcının seçtiği fotoğraf
        if (photoFile) {
            formData.append("photo", photoFile);

            try {
                // API'ye istek gönderiyoruz
                const response = await fetch('https://api.magicapi.dev/api/v1/magicapi/restoration/predictions/REQUEST_ID', {
                    method: 'POST',
                    headers: {
                        'accept': 'application/json',
                        'x-magicapi-key': 'cm54fpsfs0001md03xq0cll5u'  
                    },
                    body: formData
                });

                if (response.ok) {
                    const data = await response.json();
                    // API'den dönen sonucu işleyin, örneğin ViewBag'e gönderme
    @* ViewBag.AIResult = data.result *@
     @*                   console.log(data);
                    alert("İşlem başarılı!");

                    // Eğer API görseli döndürüyorsa, sonucu ekranda göstermek için:
    @* ViewBag.AIResult = data.result.imageUrl *@
       @*             } else {
                    alert("Bir hata oluştu: " + response.statusText);
                }
            } catch (error) {
                console.error('Hata:', error);
                alert("Bir hata oluştu!");
            }
        } else {
            alert("Lütfen bir fotoğraf seçin.");
        }
    });
</script>
 *@



